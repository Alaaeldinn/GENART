{"last_node_id":331,"last_link_id":562,"nodes":[{"id":3,"type":"ImageScaleToMegapixels","pos":[798,946],"size":{"0":315,"1":78},"flags":{},"order":37,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":508},{"name":"upscale_model_opt","type":"UPSCALE_MODEL","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[142,511,518,552],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageScaleToMegapixels"},"widgets_values":[1]},{"id":6,"type":"DepthAnythingV2Preprocessor","pos":[1822,817],"size":{"0":315,"1":82},"flags":{},"order":41,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":142}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[459,460,519,520,521,553],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"DepthAnythingV2Preprocessor"},"widgets_values":["depth_anything_v2_vitb.pth",1024]},{"id":9,"type":"PreviewImage","pos":[1358,593],"size":{"0":210,"1":246},"flags":{},"order":50,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":513}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":11,"type":"TimeFeatureNode","pos":[2210,1060],"size":{"0":317.4000244140625,"1":150},"flags":{},"order":47,"mode":0,"inputs":[{"name":"video_frames","type":"IMAGE","link":520}],"outputs":[{"name":"FEATURE","type":"FEATURE","links":[556],"slot_index":0,"shape":3},{"name":"FEATURE_PIPE","type":"FEATURE_PIPE","links":[18],"slot_index":1,"shape":3}],"properties":{"Node name for S&R":"TimeFeatureNode"},"widgets_values":[30,"smooth",0.4,0]},{"id":12,"type":"MaskToImage","pos":[2280.8768009398004,756.0618386590271],"size":{"0":210,"1":26},"flags":{},"order":55,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":28}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[522],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":17,"type":"FlexMaskDepthChamber","pos":[3291,935],"size":{"0":344.3999938964844,"1":310},"flags":{},"order":58,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":21},{"name":"feature","type":"FEATURE","link":557},{"name":"feature_pipe","type":"FEATURE_PIPE","link":18},{"name":"depth_map","type":"IMAGE","link":519}],"outputs":[{"name":"MASK","type":"MASK","links":[22,554],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"FlexMaskDepthChamber"},"widgets_values":[1,false,0,1.8,0,1,1,"z_front","move_back"]},{"id":18,"type":"ImageToMask","pos":[2209.8768009398004,920.0618386590271],"size":{"0":315,"1":58},"flags":{},"order":57,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":522}],"outputs":[{"name":"MASK","type":"MASK","links":[21,25],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":19,"type":"VHS_VideoCombine","pos":[3711.221105703125,584.6630424511718],"size":[440.296630859375,473.4754586727061],"flags":{},"order":62,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23},{"name":"audio","type":"AUDIO","link":null},{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"AnimateDiff","format":"image/gif","pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00406.gif","subfolder":"","type":"output","format":"image/gif","frame_rate":8},"muted":false}}},{"id":20,"type":"MaskToImage","pos":[3371.221105703125,834.6630424511718],"size":{"0":210,"1":26},"flags":{},"order":60,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":22}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23,29],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":22,"type":"MaskPreview+","pos":[2265.8768009398004,442.06183865902767],"size":{"0":210,"1":246},"flags":{},"order":59,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":25}],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":24,"type":"GrowMaskWithBlur","pos":[1829.8768009397998,430.06183865902756],"size":{"0":315,"1":246},"flags":{},"order":51,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":512}],"outputs":[{"name":"mask","type":"MASK","links":[28],"slot_index":0,"shape":3},{"name":"mask_inverted","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[-5,0,true,false,0,1,1,false]},{"id":25,"type":"PreviewImage","pos":[3351,475],"size":{"0":229.24041748046875,"1":296.3095703125},"flags":{},"order":63,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":29}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":26,"type":"KSampler","pos":[3688.146230353571,1864.4291566898244],"size":{"0":315,"1":262},"flags":{},"order":69,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":137},{"name":"positive","type":"CONDITIONING","link":159},{"name":"negative","type":"CONDITIONING","link":202},{"name":"latent_image","type":"LATENT","link":33}],"outputs":[{"name":"LATENT","type":"LATENT","links":[36],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[156680208700291,"fixed",8,1,"lcm","sgm_uniform",1]},{"id":27,"type":"CheckpointLoaderSimple","pos":[712,1754],"size":{"0":315,"1":98},"flags":{},"order":0,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[56],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[57],"slot_index":1},{"name":"VAE","type":"VAE","links":[39,78],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["epicrealism_naturalSinRC1VAE.safetensors"]},{"id":28,"type":"CLIPTextEncode","pos":[1530.7252329687506,1843.82733021875],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":31,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":34}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[152],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["gold plating"]},{"id":29,"type":"CLIPTextEncode","pos":[1528.7252329687506,2062.82733021875],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":32,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":35}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[153],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":30,"type":"VAEDecode","pos":[3775.1462303535714,1742.4291566898244],"size":{"0":210,"1":46},"flags":{},"order":72,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":36},{"name":"vae","type":"VAE","link":162}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[40,133],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":31,"type":"VAEEncode","pos":[1174,1764],"size":{"0":210,"1":46},"flags":{},"order":44,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":552},{"name":"vae","type":"VAE","link":39}],"outputs":[{"name":"LATENT","type":"LATENT","links":[59,451,452],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":32,"type":"VHS_VideoCombine","pos":[4049.14623035357,1753.4291566898244],"size":[593.68359375,623.8800603693182],"flags":{},"order":83,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":40},{"name":"audio","type":"AUDIO","link":null},{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00407.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":30}}}},{"id":34,"type":"ADE_AnimateDiffLoaderGen1","pos":[2873,1631],"size":{"0":332.8350524902344,"1":248.1634063720703},"flags":{},"order":30,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":44},{"name":"context_options","type":"CONTEXT_OPTIONS","link":45,"slot_index":1},{"name":"motion_lora","type":"MOTION_LORA","link":46,"slot_index":2},{"name":"ad_settings","type":"AD_SETTINGS","link":47,"slot_index":3},{"name":"ad_keyframes","type":"AD_KEYFRAMES","link":null},{"name":"sample_settings","type":"SAMPLE_SETTINGS","link":48,"slot_index":5},{"name":"scale_multival","type":"MULTIVAL","link":49,"slot_index":6},{"name":"effect_multival","type":"MULTIVAL","link":50,"slot_index":7},{"name":"per_block","type":"PER_BLOCK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[515,516,558],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffLoaderGen1","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":["AnimateLCM_sd15_t2v.ckpt","lcm avg(sqrt_linear,linear)"]},{"id":35,"type":"ADE_AnimateDiffSamplingSettings","pos":[2863.022009861499,2260.9663748561884],"size":{"0":273.3500061035156,"1":254},"flags":{},"order":26,"mode":0,"inputs":[{"name":"noise_layers","type":"NOISE_LAYERS","link":null,"slot_index":0},{"name":"iteration_opts","type":"ITERATION_OPTS","link":null},{"name":"custom_cfg","type":"CUSTOM_CFG","link":51,"slot_index":2},{"name":"sigma_schedule","type":"SIGMA_SCHEDULE","link":52,"slot_index":3},{"name":"seed_override","type":"INT","link":null,"widget":{"name":"seed_override"}},{"name":"seed_override","type":"INT","link":null,"widget":{"name":"seed_override"}}],"outputs":[{"name":"settings","type":"SAMPLE_SETTINGS","links":[48],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffSamplingSettings","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[0,"FreeNoise","comfy",0,0,false,""]},{"id":36,"type":"ADE_SigmaSchedule","pos":[2523.022009861499,2410.9663748561884],"size":{"0":244.73928833007812,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"SIGMA_SCHEDULE","type":"SIGMA_SCHEDULE","links":[52],"slot_index":0,"shape":3}],"title":"Sigma Schedule 🎭🅐🅓","properties":{"Node name for S&R":"ADE_SigmaSchedule","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":["lcm avg(sqrt_linear,linear)"]},{"id":37,"type":"ADE_MultivalDynamic","pos":[2513.022009861499,2060.9663748561884],"size":{"0":259.9388122558594,"1":63.332008361816406},"flags":{},"order":2,"mode":0,"inputs":[{"name":"mask_optional","type":"MASK","link":null}],"outputs":[{"name":"MULTIVAL","type":"MULTIVAL","links":[49],"slot_index":0,"shape":3}],"title":"Scale 🎭🅐🅓","properties":{"Node name for S&R":"ADE_MultivalDynamic","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[1.1400000000000001,""]},{"id":38,"type":"ADE_AnimateDiffUniformContextOptions","pos":[2873.022009861499,1930.9663748561877],"size":{"0":273.269775390625,"1":270},"flags":{},"order":3,"mode":0,"inputs":[{"name":"prev_context","type":"CONTEXT_OPTIONS","link":null},{"name":"view_opts","type":"VIEW_OPTS","link":null}],"outputs":[{"name":"CONTEXT_OPTS","type":"CONTEXT_OPTIONS","links":[45],"slot_index":0,"shape":3}],"title":"Context Options 🎭🅐🅓","properties":{"Node name for S&R":"ADE_AnimateDiffUniformContextOptions","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[16,1,4,"uniform",false,"pyramid",false,0,1,""]},{"id":39,"type":"ADE_MultivalDynamic","pos":[2513.022009861499,1950.9663748561877],"size":{"0":265.1632385253906,"1":58},"flags":{},"order":4,"mode":0,"inputs":[{"name":"mask_optional","type":"MASK","link":null}],"outputs":[{"name":"MULTIVAL","type":"MULTIVAL","links":[50],"shape":3}],"title":"Effect 🎭🅐🅓","properties":{"Node name for S&R":"ADE_MultivalDynamic","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[1.1,""]},{"id":40,"type":"ADE_CustomCFGSimple","pos":[2513.022009861499,2160.9663748561884],"size":{"0":257.2469787597656,"1":60.893348693847656},"flags":{},"order":5,"mode":0,"inputs":[{"name":"cfg_extras","type":"CFG_EXTRAS","link":null}],"outputs":[{"name":"CUSTOM_CFG","type":"CUSTOM_CFG","links":[51],"shape":3}],"properties":{"Node name for S&R":"ADE_CustomCFGSimple","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[2,""]},{"id":41,"type":"ADE_AnimateDiffSettings","pos":[2543.022009861499,2510.9663748561884],"size":{"0":226.8000030517578,"1":54},"flags":{"collapsed":true},"order":27,"mode":0,"inputs":[{"name":"pe_adjust","type":"PE_ADJUST","link":53,"slot_index":0},{"name":"weight_adjust","type":"WEIGHT_ADJUST","link":54,"slot_index":1}],"outputs":[{"name":"AD_SETTINGS","type":"AD_SETTINGS","links":[47],"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffSettings","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[""]},{"id":42,"type":"ADE_AdjustPESweetspotStretch","pos":[2513.022009861499,2260.9663748561884],"size":{"0":253.07310485839844,"1":106},"flags":{},"order":6,"mode":0,"inputs":[{"name":"prev_pe_adjust","type":"PE_ADJUST","link":null}],"outputs":[{"name":"PE_ADJUST","type":"PE_ADJUST","links":[53],"shape":3}],"properties":{"Node name for S&R":"ADE_AdjustPESweetspotStretch","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[16,18,false,""]},{"id":43,"type":"ADE_AdjustWeightAllMult","pos":[2503.022009861499,1790.9663748561877],"size":{"0":270.3999938964844,"1":82},"flags":{},"order":7,"mode":0,"inputs":[{"name":"prev_weight_adjust","type":"WEIGHT_ADJUST","link":null}],"outputs":[{"name":"WEIGHT_ADJUST","type":"WEIGHT_ADJUST","links":[54],"shape":3}],"properties":{"Node name for S&R":"ADE_AdjustWeightAllMult","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":[1.01,false,""]},{"id":44,"type":"ADE_AnimateDiffLoRALoader","pos":[2503,1651],"size":{"0":261.19134521484375,"1":82},"flags":{},"order":8,"mode":0,"inputs":[{"name":"prev_motion_lora","type":"MOTION_LORA","link":null}],"outputs":[{"name":"MOTION_LORA","type":"MOTION_LORA","links":[46],"slot_index":0,"shape":3}],"title":"AnimateDiff LoRA","properties":{"Node name for S&R":"ADE_AnimateDiffLoRALoader","ttNbgOverride":{"color":"#2a363b","bgcolor":"#3f5159","groupcolor":"#3f789e"}},"widgets_values":["LiquidAF-0-1.safetensors",0.8,""]},{"id":47,"type":"CR LoRA Stack","pos":[703,1933],"size":{"0":315,"1":342},"flags":{},"order":9,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[58],"slot_index":0,"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","AnimateLCM_sd15_t2v_lora.safetensors",1,1,"On","add_detail.safetensors",1,1,"On","animemix_v3_offset.safetensors",1,1]},{"id":48,"type":"CR Apply LoRA Stack","pos":[1151.699403480469,1891.0768170781248],"size":{"0":254.40000915527344,"1":66},"flags":{},"order":28,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":56},{"name":"clip","type":"CLIP","link":57},{"name":"lora_stack","type":"LORA_STACK","link":58}],"outputs":[{"name":"MODEL","type":"MODEL","links":[44],"slot_index":0,"shape":3},{"name":"CLIP","type":"CLIP","links":[34,35,205,206,212,213],"slot_index":1,"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Apply LoRA Stack"}},{"id":49,"type":"SetLatentNoiseMask","pos":[3425.975771134827,1862.0921075882618],"size":{"0":210,"1":46},"flags":{},"order":66,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":59},{"name":"mask","type":"MASK","link":546}],"outputs":[{"name":"LATENT","type":"LATENT","links":[33],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":64,"type":"Reroute","pos":[3329,1475],"size":[75,26],"flags":{},"order":25,"mode":0,"inputs":[{"name":"","type":"*","link":78}],"outputs":[{"name":"","type":"VAE","links":[162,168,178],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":65,"type":"Reroute","pos":[3330,1515],"size":[75,26],"flags":{},"order":53,"mode":0,"inputs":[{"name":"","type":"*","link":155}],"outputs":[{"name":"","type":"CONDITIONING","links":[159],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":66,"type":"Reroute","pos":[3330,1554],"size":[75,26],"flags":{},"order":54,"mode":0,"inputs":[{"name":"","type":"*","link":156}],"outputs":[{"name":"","type":"CONDITIONING","links":[202]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":101,"type":"RIFE VFI","pos":[4808.38178346151,1592.0447984922607],"size":{"0":443.4000244140625,"1":198},"flags":{},"order":84,"mode":0,"inputs":[{"name":"frames","type":"IMAGE","link":133},{"name":"optional_interpolation_states","type":"INTERPOLATION_STATES","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[134],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"RIFE VFI"},"widgets_values":["rife47.pth",10,2,true,true,1]},{"id":102,"type":"VHS_VideoCombine","pos":[4810.38178346151,1844.0447984922607],"size":[593.68359375,623.8800603693182],"flags":{},"order":88,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":134},{"name":"audio","type":"AUDIO","link":null},{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00408.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":30}}}},{"id":105,"type":"DifferentialDiffusion","pos":[3427.975771134827,1983.0921075882618],"size":{"0":210,"1":26},"flags":{},"order":38,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":515}],"outputs":[{"name":"MODEL","type":"MODEL","links":[137],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"DifferentialDiffusion"}},{"id":109,"type":"PreviewImage","pos":[1868,978],"size":{"0":210,"1":246},"flags":{},"order":48,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":521}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":110,"type":"ControlNetApplyAdvanced","pos":[2020,1920],"size":{"0":315,"1":166},"flags":{},"order":49,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":152},{"name":"negative","type":"CONDITIONING","link":153},{"name":"control_net","type":"CONTROL_NET","link":151},{"name":"image","type":"IMAGE","link":553}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[155],"slot_index":0,"shape":3},{"name":"negative","type":"CONDITIONING","links":[156],"slot_index":1,"shape":3}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.25,0,1]},{"id":111,"type":"ControlNetLoader","pos":[2020,1790],"size":{"0":315,"1":58},"flags":{},"order":10,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[151,223,224],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11f1p_sd15_depth_fp16.safetensors"]},{"id":112,"type":"KSampler","pos":[5500.383167376515,3212.8447644074463],"size":{"0":315,"1":262},"flags":{},"order":67,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":163},{"name":"positive","type":"CONDITIONING","link":219},{"name":"negative","type":"CONDITIONING","link":220},{"name":"latent_image","type":"LATENT","link":166}],"outputs":[{"name":"LATENT","type":"LATENT","links":[167],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[156680208700288,"fixed",8,1,"lcm","sgm_uniform",1]},{"id":113,"type":"VAEDecode","pos":[5588.947701337266,3113.5334057961727],"size":{"0":210,"1":46},"flags":{},"order":70,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":167},{"name":"vae","type":"VAE","link":168}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[169,415,466,474,476],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":114,"type":"VHS_VideoCombine","pos":[5859.947701337266,3102.5334057961727],"size":[590,621.9545454545455],"flags":{},"order":73,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":169},{"name":"audio","type":"AUDIO","link":null},{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00379.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":30}}}},{"id":115,"type":"SetLatentNoiseMask","pos":[5239.947701337267,3212.5334057961727],"size":{"0":210,"1":46},"flags":{},"order":64,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":451},{"name":"mask","type":"MASK","link":463}],"outputs":[{"name":"LATENT","type":"LATENT","links":[166],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":116,"type":"DifferentialDiffusion","pos":[5243.947701337267,3324.5334057961727],"size":{"0":210,"1":26},"flags":{},"order":39,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":516}],"outputs":[{"name":"MODEL","type":"MODEL","links":[163],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"DifferentialDiffusion"}},{"id":117,"type":"KSampler","pos":[5491.947701337266,4214.533405796175],"size":{"0":315,"1":262},"flags":{},"order":68,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":173},{"name":"positive","type":"CONDITIONING","link":221},{"name":"negative","type":"CONDITIONING","link":222},{"name":"latent_image","type":"LATENT","link":176}],"outputs":[{"name":"LATENT","type":"LATENT","links":[177],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[156680208700288,"fixed",8,1,"lcm","sgm_uniform",1]},{"id":118,"type":"VAEDecode","pos":[5579.947701337266,4104.533405796175],"size":{"0":210,"1":46},"flags":{},"order":71,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":177},{"name":"vae","type":"VAE","link":178}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[179,422,465,475,477],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":119,"type":"VHS_VideoCombine","pos":[5856.947701337266,4101.5334057961745],"size":[590,621.9545454545455],"flags":{},"order":78,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":179},{"name":"audio","type":"AUDIO","link":null},{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00384.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":30}}}},{"id":120,"type":"SetLatentNoiseMask","pos":[5230.383167376516,4202.844764407453],"size":{"0":210,"1":46},"flags":{},"order":65,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":452},{"name":"mask","type":"MASK","link":464}],"outputs":[{"name":"LATENT","type":"LATENT","links":[176],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":121,"type":"DifferentialDiffusion","pos":[5220.383167376516,4322.844764407453],"size":{"0":210,"1":26},"flags":{},"order":40,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":558}],"outputs":[{"name":"MODEL","type":"MODEL","links":[173],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"DifferentialDiffusion"}},{"id":135,"type":"CLIPTextEncode","pos":[4103.9477013372625,3164.5334057961727],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":33,"mode":4,"inputs":[{"name":"clip","type":"CLIP","link":205}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[207],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["fire"]},{"id":136,"type":"CLIPTextEncode","pos":[4094.3355985716353,3384.938542843048],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":34,"mode":4,"inputs":[{"name":"clip","type":"CLIP","link":206}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[208],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":137,"type":"ControlNetApplyAdvanced","pos":[4583.947701337266,3324.5334057961727],"size":{"0":315,"1":166},"flags":{},"order":45,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":207},{"name":"negative","type":"CONDITIONING","link":208},{"name":"control_net","type":"CONTROL_NET","link":223},{"name":"image","type":"IMAGE","link":459}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[219],"slot_index":0,"shape":3},{"name":"negative","type":"CONDITIONING","links":[220],"slot_index":1,"shape":3}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.45,0,1]},{"id":139,"type":"CLIPTextEncode","pos":[4078.947701337262,4162.533405796175],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":35,"mode":4,"inputs":[{"name":"clip","type":"CLIP","link":212}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[214],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["ice and snow"]},{"id":140,"type":"CLIPTextEncode","pos":[4079.322397899759,4382.637957749298],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":36,"mode":4,"inputs":[{"name":"clip","type":"CLIP","link":213}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[215],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":141,"type":"ControlNetApplyAdvanced","pos":[4568.947701337265,4322.533405796175],"size":{"0":315,"1":166},"flags":{},"order":46,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":214},{"name":"negative","type":"CONDITIONING","link":215},{"name":"control_net","type":"CONTROL_NET","link":224},{"name":"image","type":"IMAGE","link":460}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[221],"slot_index":0,"shape":3},{"name":"negative","type":"CONDITIONING","links":[222],"slot_index":1,"shape":3}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.45,0,1]},{"id":219,"type":"JWInteger","pos":[207,533],"size":{"0":315,"1":58},"flags":{},"order":20,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[504],"slot_index":0,"shape":3}],"title":"Total Frames (Divisible by 2 please)","properties":{"Node name for S&R":"JWInteger"},"widgets_values":[32]},{"id":222,"type":"ImageIntervalSelectPercentage","pos":[6675.947701337266,4487.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":74,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":415}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[498],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,25,40]},{"id":223,"type":"ImageIntervalSelectPercentage","pos":[6681.947701337266,4324.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":79,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":422}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[497],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,25,40]},{"id":235,"type":"ImageBlend","pos":[6689.947701337266,4662.533405796175],"size":{"0":315,"1":102},"flags":{},"order":85,"mode":4,"inputs":[{"name":"image1","type":"IMAGE","link":497},{"name":"image2","type":"IMAGE","link":498}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[483,492],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[0.75,"normal"]},{"id":236,"type":"ImageBatchMulti","pos":[7876.947701337266,4667.533405796175],"size":{"0":210,"1":162},"flags":{},"order":91,"mode":4,"inputs":[{"name":"image_1","type":"IMAGE","link":471},{"name":"image_2","type":"IMAGE","link":483},{"name":"image_3","type":"IMAGE","link":484},{"name":"image_4","type":"IMAGE","link":485},{"name":"image_5","type":"IMAGE","link":486}],"outputs":[{"name":"images","type":"IMAGE","links":[487,489],"slot_index":0,"shape":3}],"properties":{},"widgets_values":[5,null]},{"id":244,"type":"VHS_VideoCombine","pos":[6788.947701337266,3294.5334057961727],"size":[590,621.9545454545455],"flags":{},"order":93,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":487},{"name":"audio","type":"AUDIO","link":null},{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00381.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":30}}}},{"id":245,"type":"RIFE VFI","pos":[7418.947701337266,3034.5334057961727],"size":{"0":443.4000244140625,"1":198},"flags":{},"order":94,"mode":4,"inputs":[{"name":"frames","type":"IMAGE","link":489},{"name":"optional_interpolation_states","type":"INTERPOLATION_STATES","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[406],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"RIFE VFI"},"widgets_values":["rife47.pth",10,3,true,true,1]},{"id":246,"type":"VHS_VideoCombine","pos":[7418.947701337266,3294.5334057961727],"size":[590,621.9545454545455],"flags":{},"order":95,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":406},{"name":"audio","type":"AUDIO","link":null},{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00382.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":30}}}},{"id":271,"type":"Reroute","pos":[3331,1594],"size":[75,26],"flags":{},"order":61,"mode":0,"inputs":[{"name":"","type":"*","link":554}],"outputs":[{"name":"","type":"MASK","links":[463,464,546],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":272,"type":"ImageIntervalSelectPercentage","pos":[7811.947701337266,4481.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":80,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":465}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[486],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,75,100]},{"id":273,"type":"ImageIntervalSelectPercentage","pos":[7808.947701337266,4314.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":75,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":466}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[471],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,0,25]},{"id":276,"type":"ImageIntervalSelectPercentage","pos":[7057.947701337266,4483.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":76,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":474}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[500],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,40,60]},{"id":277,"type":"ImageIntervalSelectPercentage","pos":[7060.947701337266,4320.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":81,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":475}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[499],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,40,60]},{"id":278,"type":"ImageIntervalSelectPercentage","pos":[7438.947701337266,4482.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":77,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":476}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[478],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,60,75]},{"id":279,"type":"ImageIntervalSelectPercentage","pos":[7435.947701337266,4316.533405796175],"size":{"0":344.3999938964844,"1":106},"flags":{},"order":82,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":477}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[479],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageIntervalSelectPercentage"},"widgets_values":[1,60,75]},{"id":280,"type":"ImageBlend","pos":[7072.947701337266,4665.533405796175],"size":{"0":315,"1":102},"flags":{},"order":86,"mode":4,"inputs":[{"name":"image1","type":"IMAGE","link":499},{"name":"image2","type":"IMAGE","link":500}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[484,491],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[0.5,"normal"]},{"id":281,"type":"ImageBlend","pos":[7464.947701337266,4656.533405796175],"size":{"0":315,"1":102},"flags":{},"order":87,"mode":4,"inputs":[{"name":"image1","type":"IMAGE","link":479},{"name":"image2","type":"IMAGE","link":478}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[485,490],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[0.25,"normal"]},{"id":282,"type":"Note","pos":[6812.947701337266,3017.5334057961727],"size":{"0":401.43572998046875,"1":192.92298889160156},"flags":{},"order":11,"mode":4,"properties":{"text":""},"widgets_values":["The transition is not smooth yet, I'm trying to figure out some math to help the transition.\nAlso the blending mode is set to normal now because I didn't have any blending nodes that worked with batches."],"color":"#432","bgcolor":"#653"},{"id":283,"type":"Note","pos":[4977.947701337268,3676.5334057961727],"size":{"0":448.5469970703125,"1":275.5169982910156},"flags":{},"order":12,"mode":4,"properties":{"text":""},"widgets_values":["Ideally I'd like to implement a way to do inference on only x+y number of frames, where x is number of frames / 2, and y is the overlaying frames.\n\nI couldn't figure out the math yet, so instead I'm doing inference on all the frames and picking five subset of frames (starting, overlay 1, overlay 2, overlay 3, end) and applying incrementing blending."],"color":"#432","bgcolor":"#653"},{"id":284,"type":"PreviewImage","pos":[7514.947701337266,4832.533405796175],"size":{"0":210,"1":246},"flags":{},"order":92,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":490}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":285,"type":"PreviewImage","pos":[7131.947701337266,4826.533405796175],"size":{"0":210,"1":246},"flags":{},"order":90,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":491}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":286,"type":"PreviewImage","pos":[6750.947701337266,4834.533405796175],"size":{"0":210,"1":246},"flags":{},"order":89,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":492}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":287,"type":"Note","pos":[1132,2036],"size":{"0":291.3693542480469,"1":234.68565368652344},"flags":{},"order":13,"mode":0,"properties":{"text":""},"widgets_values":["You can change the Checkpoint (1.5 only since we're using AnimateDiff), but not the LoRAs.\n\nIf you want to try porting this to SDXL or Flux, you'll most probably need to figure out a way to implement temporal consisntency that doesn't involve AnimateDiff.\n\nPlace the LoRAs in the /models/loras folder"],"color":"#432","bgcolor":"#653"},{"id":288,"type":"Note","pos":[2027,2153],"size":{"0":308,"1":157.3000030517578},"flags":{},"order":14,"mode":0,"properties":{"text":""},"widgets_values":["The original workflow used both Depth and Lineart.\nI prefer using Depth only at a lowish strength as it allows the \"growings\" to appear more organic because they're less bound by the controlnet while still being guided by it."],"color":"#432","bgcolor":"#653"},{"id":289,"type":"Note","pos":[2865,2583],"size":{"0":305.4693603515625,"1":89.78565979003906},"flags":{},"order":15,"mode":0,"properties":{"text":""},"widgets_values":["I left this AnimateDiff stack the same as in the original workflow."],"color":"#432","bgcolor":"#653"},{"id":291,"type":"Note","pos":[3352.9757711348257,2434.0921075882634],"size":{"0":375.77154541015625,"1":221.5462646484375},"flags":{},"order":16,"mode":0,"properties":{"text":""},"widgets_values":["First generation pass, followed by a RIFE frame interpolation pass for adding smoothness and more frames."],"color":"#432","bgcolor":"#653"},{"id":292,"type":"Note","pos":[753,1203],"size":{"0":377.9101257324219,"1":147.92962646484375},"flags":{},"order":23,"mode":0,"properties":{"text":""},"widgets_values":["This is the main group for Z-Depth manipulation.\nFirst the frames are resized, then the subject's mask is extracted for each frame. The same happens for Depth.\nThen both the starting Z-Depth front and back planes are moved from arbitrary starting points, and their intersection with the subject mask creates an animated mask that acts as inpainting guidance for each frame."],"color":"#432","bgcolor":"#653"},{"id":294,"type":"Note","pos":[2494,2581],"size":{"0":311.3382263183594,"1":104.46613311767578},"flags":{},"order":17,"mode":0,"properties":{"text":""},"widgets_values":["Place:\n- LiquidAF in custom_nodes/ComfyUI-AnimateDiff-Evolved/motion_lora\n- AnimateLCM in custom_nodes/ComfyUI-AnimateDiff-Evolved/models"],"color":"#432","bgcolor":"#653"},{"id":297,"type":"Note","pos":[152,2029],"size":{"0":409.02001953125,"1":270.47119140625},"flags":{},"order":18,"mode":0,"properties":{"text":""},"widgets_values":["Models:\nLoras (place them in ./ComfyUI/models/loras):\n- https://huggingface.co/wangfuyun/AnimateLCM/blob/main/AnimateLCM_sd15_t2v_lora.safetensors\n- https://huggingface.co/naonovn/Lora/blob/main/add_detail.safetensors\n- https://huggingface.co/Lykon/LoRA/blob/7b44164cabdc9a4f34b4ef27f508dacde0a540e0/animemix_v3_offset.safetensors\nAnimateDiff Evolved Lora (place them in ./ComfyUI/custom_nodes/ComfyUI-AnimateDiff-Evolved/motion-lora):\n- https://huggingface.co/peteromallet/poms-funtime-mlora-emporium/blob/main/LiquidAF-0-1.safetensors\nAnimateDiff Evolved Checkpoint (place them in ./ComfyUI/custom_nodes/ComfyUI-AnimateDiff-Evolved/models):\n- https://huggingface.co/wangfuyun/AnimateLCM/blob/main/AnimateLCM_sd15_t2v.ckpt"],"color":"#432","bgcolor":"#653"},{"id":298,"type":"VHS_LoadVideo","pos":[241.75263963623706,676.9997863769526],"size":[254.22267150878906,375.515861928463],"flags":{},"order":29,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","link":null},{"name":"vae","type":"VAE","link":null},{"name":"frame_load_cap","type":"INT","link":504,"widget":{"name":"frame_load_cap"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[508],"slot_index":0,"shape":3},{"name":"frame_count","type":"INT","links":null,"shape":3},{"name":"audio","type":"AUDIO","links":null,"shape":3},{"name":"video_info","type":"VHS_VIDEOINFO","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"5083290-uhd_4096_2160_25fps.mp4","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":0,"skip_first_frames":60,"select_every_nth":4,"choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"frame_load_cap":0,"skip_first_frames":60,"force_rate":0,"select_every_nth":4,"filename":"5083290-uhd_4096_2160_25fps.mp4","type":"input","format":"video/mp4"},"muted":false}}},{"id":300,"type":"SAM2ModelLoader (segment anything)","pos":[1286.8768009398084,1088.0618386590268],"size":{"0":315,"1":58},"flags":{},"order":19,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[509],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"SAM2ModelLoader (segment anything)"},"widgets_values":["sam2_hiera_tiny"]},{"id":301,"type":"GroundingDinoSAMSegment (segment anything)","pos":[1272.8768009398084,919.0618386590272],"size":{"0":352.79998779296875,"1":122},"flags":{},"order":42,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":509},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":510},{"name":"image","type":"IMAGE","link":511}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[513],"slot_index":0,"shape":3},{"name":"MASK","type":"MASK","links":[512],"slot_index":1,"shape":3}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["watch",0.3]},{"id":302,"type":"GroundingDinoModelLoader (segment anything)","pos":[1276,1201],"size":{"0":361.20001220703125,"1":58},"flags":{},"order":21,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[510],"shape":3}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinT_OGC (694MB)"]},{"id":303,"type":"PreviewImage","pos":[856.8768009398082,603.0618386590274],"size":{"0":210,"1":246},"flags":{},"order":43,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":518}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":327,"type":"FeatureScaler","pos":[2697,1049],"size":{"0":367.79998779296875,"1":174},"flags":{},"order":52,"mode":0,"inputs":[{"name":"feature","type":"FEATURE","link":556}],"outputs":[{"name":"FEATURE","type":"FEATURE","links":[557],"slot_index":0,"shape":3},{"name":"FEATURE_VISUALIZATION","type":"IMAGE","links":[555],"slot_index":1,"shape":3}],"properties":{"Node name for S&R":"FeatureScaler"},"widgets_values":["exponential",0,1,2,false]},{"id":328,"type":"PreviewImage","pos":[2695,647],"size":{"0":378.6961669921875,"1":246},"flags":{},"order":56,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":555}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":330,"type":"Note","pos":[173,1157],"size":{"0":377.9101257324219,"1":147.92962646484375},"flags":{},"order":22,"mode":0,"properties":{"text":""},"widgets_values":["Input the video here, and select:\n- how many frames you want\n- how many frames to skip\n- the frames to select every nth frame (1 = every frame, 4 = 1 frame every 4 frames)"],"color":"#432","bgcolor":"#653"},{"id":331,"type":"Note","pos":[2688,404],"size":{"0":377.9101257324219,"1":147.92962646484375},"flags":{},"order":24,"mode":0,"properties":{"text":""},"widgets_values":["This group enables Feature manipulation and visualizes the time / z-depth movement graph.\n\nChange scale_type for different graphs and z-depth movement behaviours."],"color":"#432","bgcolor":"#653"}],"links":[[18,11,1,17,2,"FEATURE_PIPE"],[21,18,0,17,0,"MASK"],[22,17,0,20,0,"MASK"],[23,20,0,19,0,"IMAGE"],[25,18,0,22,0,"MASK"],[28,24,0,12,0,"MASK"],[29,20,0,25,0,"IMAGE"],[33,49,0,26,3,"LATENT"],[34,48,1,28,0,"CLIP"],[35,48,1,29,0,"CLIP"],[36,26,0,30,0,"LATENT"],[39,27,2,31,1,"VAE"],[40,30,0,32,0,"IMAGE"],[44,48,0,34,0,"MODEL"],[45,38,0,34,1,"CONTEXT_OPTIONS"],[46,44,0,34,2,"MOTION_LORA"],[47,41,0,34,3,"AD_SETTINGS"],[48,35,0,34,5,"SAMPLE_SETTINGS"],[49,37,0,34,6,"MULTIVAL"],[50,39,0,34,7,"MULTIVAL"],[51,40,0,35,2,"CUSTOM_CFG"],[52,36,0,35,3,"SIGMA_SCHEDULE"],[53,42,0,41,0,"PE_ADJUST"],[54,43,0,41,1,"WEIGHT_ADJUST"],[56,27,0,48,0,"MODEL"],[57,27,1,48,1,"CLIP"],[58,47,0,48,2,"LORA_STACK"],[59,31,0,49,0,"LATENT"],[78,27,2,64,0,"*"],[133,30,0,101,0,"IMAGE"],[134,101,0,102,0,"IMAGE"],[137,105,0,26,0,"MODEL"],[142,3,0,6,0,"IMAGE"],[151,111,0,110,2,"CONTROL_NET"],[152,28,0,110,0,"CONDITIONING"],[153,29,0,110,1,"CONDITIONING"],[155,110,0,65,0,"*"],[156,110,1,66,0,"*"],[159,65,0,26,1,"CONDITIONING"],[162,64,0,30,1,"VAE"],[163,116,0,112,0,"MODEL"],[166,115,0,112,3,"LATENT"],[167,112,0,113,0,"LATENT"],[168,64,0,113,1,"VAE"],[169,113,0,114,0,"IMAGE"],[173,121,0,117,0,"MODEL"],[176,120,0,117,3,"LATENT"],[177,117,0,118,0,"LATENT"],[178,64,0,118,1,"VAE"],[179,118,0,119,0,"IMAGE"],[202,66,0,26,2,"CONDITIONING"],[205,48,1,135,0,"CLIP"],[206,48,1,136,0,"CLIP"],[207,135,0,137,0,"CONDITIONING"],[208,136,0,137,1,"CONDITIONING"],[212,48,1,139,0,"CLIP"],[213,48,1,140,0,"CLIP"],[214,139,0,141,0,"CONDITIONING"],[215,140,0,141,1,"CONDITIONING"],[219,137,0,112,1,"CONDITIONING"],[220,137,1,112,2,"CONDITIONING"],[221,141,0,117,1,"CONDITIONING"],[222,141,1,117,2,"CONDITIONING"],[223,111,0,137,2,"CONTROL_NET"],[224,111,0,141,2,"CONTROL_NET"],[406,245,0,246,0,"IMAGE"],[415,113,0,222,0,"IMAGE"],[422,118,0,223,0,"IMAGE"],[451,31,0,115,0,"LATENT"],[452,31,0,120,0,"LATENT"],[459,6,0,137,3,"IMAGE"],[460,6,0,141,3,"IMAGE"],[463,271,0,115,1,"MASK"],[464,271,0,120,1,"MASK"],[465,118,0,272,0,"IMAGE"],[466,113,0,273,0,"IMAGE"],[471,273,0,236,0,"IMAGE"],[474,113,0,276,0,"IMAGE"],[475,118,0,277,0,"IMAGE"],[476,113,0,278,0,"IMAGE"],[477,118,0,279,0,"IMAGE"],[478,278,0,281,1,"IMAGE"],[479,279,0,281,0,"IMAGE"],[483,235,0,236,1,"IMAGE"],[484,280,0,236,2,"IMAGE"],[485,281,0,236,3,"IMAGE"],[486,272,0,236,4,"IMAGE"],[487,236,0,244,0,"IMAGE"],[489,236,0,245,0,"IMAGE"],[490,281,0,284,0,"IMAGE"],[491,280,0,285,0,"IMAGE"],[492,235,0,286,0,"IMAGE"],[497,223,0,235,0,"IMAGE"],[498,222,0,235,1,"IMAGE"],[499,277,0,280,0,"IMAGE"],[500,276,0,280,1,"IMAGE"],[504,219,0,298,2,"INT"],[508,298,0,3,0,"IMAGE"],[509,300,0,301,0,"SAM_MODEL"],[510,302,0,301,1,"GROUNDING_DINO_MODEL"],[511,3,0,301,2,"IMAGE"],[512,301,1,24,0,"MASK"],[513,301,0,9,0,"IMAGE"],[515,34,0,105,0,"MODEL"],[516,34,0,116,0,"MODEL"],[518,3,0,303,0,"IMAGE"],[519,6,0,17,3,"IMAGE"],[520,6,0,11,0,"IMAGE"],[521,6,0,109,0,"IMAGE"],[522,12,0,18,0,"IMAGE"],[546,271,0,49,1,"MASK"],[552,3,0,31,0,"IMAGE"],[553,6,0,110,3,"IMAGE"],[554,17,0,271,0,"*"],[555,327,1,328,0,"IMAGE"],[556,11,0,327,0,"FEATURE"],[557,327,0,17,1,"FEATURE"],[558,34,0,121,0,"MODEL"]],"groups":[{"title":"Intervals - First Half Inference","bounding":[4882,3010,1629,987],"color":"#3f789e","font_size":24,"locked":false},{"title":"Frame Interpolation","bounding":[4744,1480,722,1179],"color":"#3f789e","font_size":24,"locked":false},{"title":"Inference","bounding":[3312,1645,1386,1082],"color":"#3f789e","font_size":24,"locked":false},{"title":"Intervals - First Half","bounding":[3961,3010,909,982],"color":"#3f789e","font_size":24,"locked":false},{"title":"Intervals - Second Half","bounding":[3963,4019,896,980],"color":"#3f789e","font_size":24,"locked":false},{"title":"AnimateDiff","bounding":[2412,1497,867,1234],"color":"#3f789e","font_size":24,"locked":false},{"title":"Conditioning","bounding":[1506,1676,894,661],"color":"#3f789e","font_size":24,"locked":false},{"title":"Checkpoint + LoRAs","bounding":[587,1585,897,757],"color":"#3f789e","font_size":24,"locked":false},{"title":"Intervals - Second Half Inference","bounding":[4878,4009,1633,996],"color":"#3f789e","font_size":24,"locked":false},{"title":"From Single Image to Mask Animation","bounding":[672,272,1899,1116],"color":"#3f789e","font_size":24,"locked":false},{"title":"Inputs","bounding":[66,394,585,986],"color":"#3f789e","font_size":24,"locked":false},{"title":"Transition Animation","bounding":[6530,2903,1671,2218],"color":"#3f789e","font_size":24,"locked":false},{"title":"Multi-Generations","bounding":[3831,2857,4512,2350],"color":"#3f789e","font_size":24,"locked":false},{"title":"Basic Generation","bounding":[98,1419,5516,1360],"color":"#3f789e","font_size":24,"locked":false},{"title":"Z-Depth Masking","bounding":[3190,271,1021,1117],"color":"#3f789e","font_size":24,"locked":false},{"title":"Feature Manipulation","bounding":[2581,270,598,1116],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.38554328942953175,"offset":[1096.2515744766665,363.268756685511]}},"version":0.4}